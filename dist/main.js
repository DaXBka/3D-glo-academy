(()=>{"use strict";const e=({timing:e,draw:t,duration:r})=>{let o=performance.now();requestAnimationFrame((function a(l){let s=(l-o)/r;s>1&&(s=1);let n=e(s);t(n),s<1&&requestAnimationFrame(a)}))};(function(e){const t=document.querySelector("#timer-hours"),r=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds");let a,l=!0;const s=()=>{const e=(()=>{let e=(new Date("10 march 2022").getTime()-(new Date).getTime())/1e3;return e<0&&(l=!1),{hours:Math.floor(e/3600),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})(),s=e=>1==e.toString().length?"0"+e:e;l?(t.textContent=s(e.hours),r.textContent=s(e.minutes),o.textContent=s(e.seconds)):clearInterval(a)};s(),a=setInterval(s,1e3)})(),function(){const e=document.querySelector("menu");document.addEventListener("click",(t=>{t.target.closest(".menu")||t.target.matches("menu, menu li")?e.classList.add("active-menu"):e.classList.remove("active-menu")}))}(),(()=>{const t=document.querySelector(".popup"),r=document.querySelectorAll(".popup-btn"),o=()=>{let r=document.documentElement.clientWidth;t.style.display?r>768?e({duration:125,timing:e=>e,draw(e){t.style.opacity=Math.abs(1-e),1==e&&(t.style.display="")}}):t.style.display="":(t.style.display="block",r>768&&(t.style.opacity=0,e({duration:125,timing:e=>e,draw(e){t.style.opacity=e}})))};t.addEventListener("click",(e=>{e.target.closest(".popup-content")&&!e.target.classList.contains("popup-close")||o()})),r.forEach((e=>{e.addEventListener("click",o)}))})(),[...document.querySelector("menu").querySelectorAll("ul > li > a"),document.querySelector("main").querySelector("a")].forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const r=e.getAttribute("href").substring(1);document.getElementById(r).scrollIntoView({inline:"nearest",behavior:"smooth"})}))})),(t=>{const r=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),a=document.querySelector(".calc-square"),l=document.querySelector(".calc-count"),s=document.querySelector(".calc-day"),n=document.getElementById("total");r.addEventListener("input",(r=>{r.target!=o&&r.target!=a&&r.target!=l&&r.target!=s||(()=>{const r=+o.options[o.selectedIndex].value,c=+a.value;let i=0,u=1,d=1;+l.value>1&&(u+=+l.value/10),s.value&&s.value<5?d=2:s.value&&s.value<10&&(d=1.5),i=o.value&&a.value?t*r*c*u*d:0,0!==i?(t=>{e({duration:750,timing:e=>e,draw(e){n.textContent=Math.floor(t*e)}}),n.textContent=t})(i):n.textContent=0})()}))})(100),(()=>{String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0\-]+|[\s\uFEFF\xA0\-]+$/g,"")};const e=document.getElementById("form1"),t=document.getElementById("form2"),r=document.getElementById("form3"),o=document.querySelectorAll(".calc-item"),a=e=>{const t=e=>{if(e.value)switch(e.getAttribute("name")){case"user_name":e.value=e.value.replace(/[^A-zА-я ]/g,"");break;case"user_email":e.value=e.value.replace(/[^A-z0-9\@\_\.\!\~\*\-\']/g,"");break;case"user_phone":e.value=e.value.replace(/[^\d\)\(\-]/g,"");break;case"user_message":e.value=e.value.replace(/[^А-я \-\.\,\?\!]/g,"")}};e.querySelectorAll("input").forEach((e=>{e.addEventListener("input",(()=>{t(e)})),e.addEventListener("blur",(()=>{t(e),"text"!==e.getAttribute("type")&&"user_message"!==e.getAttribute("name")||!e.value||(e.value=e.value.split(" ").map((e=>e[0].toUpperCase()+e.substring(1).toLowerCase())).join(" ")),e.value=e.value.replace(/\-+/g,"-").replace(/\s+/g," ").trim()}))}))};a(e),a(t),a(r),o.forEach(((e,t)=>{0!==t&&e.addEventListener("input",(()=>{e.value=e.value.replace(/\D/,"")}))}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-tab"),r=document.querySelectorAll(".service-header-tab");e.addEventListener("click",(e=>{const o=e.target.closest(".service-header-tab");o&&r.forEach(((e,r)=>{e===o?(e.classList.add("active"),t[r].classList.remove("d-none")):(e.classList.remove("active"),t[r].classList.add("d-none"))}))}))})(),(({sliderClass:e=".portfolio-content",sliderItemClass:t=".portfolio-item",dotsClassBlock:r=".portfolio-dots",dotsClass:o=".dot",arrowLeft:a="#arrow-left",arrowRight:l="#arrow-right",arrowsClass:s=".portfolio-btn",sliderItemActive:n=".portfolio-item-active",dotActive:c=".dot-active"})=>{const i=document.querySelector(e),u=document.querySelectorAll(t),d=document.querySelector(r);let m,v,g=0,p=!1;if(n=n||t.substring(1)+"-active",c=c||o.substring(1)+"-active",!i||!u)return;const y=(e,t,r)=>{e[t].classList.remove(r.substring(1))},h=(e,t,r)=>{e[t].classList.add(r.substring(1))},f=()=>{y(u,g,n),y(m,g,c),g++,g>=u.length&&(g=0),h(u,g,n),h(m,g,c)},E=e=>{v=setInterval(f,e)};i.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(`${o}, ${s}`)&&(y(u,g,n),y(m,g,c),e.target.matches(a)?g--:e.target.matches(l)?g++:e.target.classList.contains(o.substring(1))&&m.forEach(((t,r)=>{t===e.target&&(g=r)})),g>=u.length&&(g=0),g<0&&(g=u.length-1),h(u,g,n),h(m,g,c))})),i.addEventListener("mouseenter",(e=>{e.target.matches(`${o}, ${s}`)&&clearInterval(v)}),!0),i.addEventListener("mouseleave",(e=>{e.target.matches(`${o}, ${s}`)&&E(4e3)}),!0),(()=>{if(d.innerHTML="",0==u.length)return p=!0;u.forEach((()=>{const e=document.createElement("li");e.className="dot",d.append(e)})),m=document.querySelectorAll(o),m[0].classList.add(c.substring(1))})(),p||E(4e3)})({sliderClass:".portfolio-content",sliderItemClass:".portfolio-item",dotsClassBlock:".portfolio-dots",dotsClass:".dot",arrowLeft:"#arrow-left",arrowRight:"#arrow-right",arrowsClass:".portfolio-btn",sliderItemActive:".portfolio-item-active",dotActive:".dot-active"})})();