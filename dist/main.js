(()=>{"use strict";(function(e){const t=document.querySelector("#timer-hours"),r=document.querySelector("#timer-minutes"),a=document.querySelector("#timer-seconds");let c,n=!0;const l=()=>{const e=(()=>{let e=(new Date("5 march 2022").getTime()-(new Date).getTime())/1e3;return e<0&&(n=!1),{hours:Math.floor(e/3600),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})(),l=e=>1==e.toString().length?"0"+e:e;n?(t.textContent=l(e.hours),r.textContent=l(e.minutes),a.textContent=l(e.seconds)):clearInterval(c)};l(),c=setInterval(l,1e3)})(),function(){const e=document.querySelector("menu");document.addEventListener("click",(t=>{t.target.closest(".menu")||t.target.matches("menu, menu li")?e.classList.add("active-menu"):e.classList.remove("active-menu")}))}(),(()=>{const e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),r=()=>{let t=document.documentElement.clientWidth;e.style.display?(e.style.opacity=0,t>768?setTimeout((()=>e.style.display=""),310):e.style.display=""):(e.style.display="block",t>768?setTimeout((()=>e.style.opacity=1),100):e.style.opacity=1)};e.addEventListener("click",(e=>{e.target.closest(".popup-content")&&!e.target.classList.contains("popup-close")||r()})),t.forEach((e=>{e.addEventListener("click",r)})),e.style.transition="opacity 0.3s ease",e.style.opacity=0})(),[...document.querySelector("menu").querySelectorAll("ul > li > a"),document.querySelector("main").querySelector("a")].forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const r=e.getAttribute("href").substring(1);document.getElementById(r).scrollIntoView({inline:"nearest",behavior:"smooth"})}))})),(e=>{const t=document.querySelector(".calc-block"),r=document.querySelector(".calc-type"),a=document.querySelector(".calc-square"),c=document.querySelector(".calc-count"),n=document.querySelector(".calc-day"),l=document.getElementById("total");let o;t.addEventListener("input",(t=>{t.target!=r&&t.target!=a&&t.target!=c&&t.target!=n||(()=>{const t=+r.options[r.selectedIndex].value,s=a.value;let u=0,i=1,d=1;+c.value>1&&(i+=+c.value/10),n.value&&n.value<5?d=2:n.value&&n.value<10&&(d=1.5),u=r.value&&a.value?e*t*s*i*d:0,0!==u&&(e=>{let t=parseInt(e*((e.toString.length+4)/10));clearInterval(o),o=setInterval((()=>{t++,l.textContent=t,t>=e&&(clearInterval(o),l.textContent=e)}),1)})(u)})()}))})(100),(()=>{String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0\-]+|[\s\uFEFF\xA0\-]+$/g,"")};const e=document.getElementById("form1"),t=document.getElementById("form2"),r=document.getElementById("form3"),a=document.querySelectorAll(".calc-item"),c=e=>{const t=e=>{if(e.value)switch(e.getAttribute("name")){case"user_name":e.value=e.value.replace(/[^A-zА-я ]/g,"");break;case"user_email":e.value=e.value.replace(/[^A-z0-9\@\_\.\!\~\*\-\']/g,"");break;case"user_phone":e.value=e.value.replace(/[^\d\)\(\-]/g,"");break;case"user_message":e.value=e.value.replace(/[^А-я \-\.\,\?\!]/g,"")}};e.querySelectorAll("input").forEach((e=>{e.addEventListener("input",(()=>{t(e)})),e.addEventListener("blur",(()=>{t(e),"text"!==e.getAttribute("type")&&"user_message"!==e.getAttribute("name")||!e.value||(e.value=e.value.split(" ").map((e=>e[0].toUpperCase()+e.substring(1).toLowerCase())).join(" ")),e.value=e.value.replace(/\-+/g,"-").replace(/\s+/g," ").trim()}))}))};c(e),c(t),c(r),a.forEach(((e,t)=>{0!==t&&e.addEventListener("input",(()=>{e.value=e.value.replace(/\D/,"")}))}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-tab"),r=document.querySelectorAll(".service-header-tab");e.addEventListener("click",(e=>{const a=e.target.closest(".service-header-tab");a&&r.forEach(((e,r)=>{e===a?(e.classList.add("active"),t[r].classList.remove("d-none")):(e.classList.remove("active"),t[r].classList.add("d-none"))}))}))})(),((e,t,r=".dot",a=".portfolio-dots",c="#arrow-left",n="#arrow-right",l=".portfolio-btn",o,s)=>{const u=document.querySelector(e),i=document.querySelectorAll(t),d=document.querySelector(a);let m,v,p=0,g=!1;if(o=o||t.substring(1)+"-active",s=s||r.substring(1)+"-active",!u||!i)return;const y=(e,t,r)=>{e[t].classList.remove(r)},h=(e,t,r)=>{e[t].classList.add(r)},E=()=>{y(i,p,o),y(m,p,s),p++,p>=i.length&&(p=0),h(i,p,o),h(m,p,s)},f=e=>{v=setInterval(E,e)};u.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(`${r}, ${l}`)&&(y(i,p,o),y(m,p,s),e.target.matches(c)?p--:e.target.matches(n)?p++:e.target.classList.contains(r.substring(1))&&m.forEach(((t,r)=>{t===e.target&&(p=r)})),p>=i.length&&(p=0),p<0&&(p=i.length-1),h(i,p,o),h(m,p,s))})),u.addEventListener("mouseenter",(e=>{e.target.matches(`${r}, ${l}`)&&clearInterval(v)}),!0),u.addEventListener("mouseleave",(e=>{e.target.matches(`${r}, ${l}`)&&f(4e3)}),!0),(()=>{if(d.innerHTML="",0==i.length)return g=!0;i.forEach((()=>{const e=document.createElement("li");e.className="dot",d.append(e)})),m=document.querySelectorAll(r),m[0].classList.add(s)})(),g||f(4e3)})(".portfolio-content",".portfolio-item")})();