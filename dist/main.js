(()=>{"use strict";const e=({timing:e,draw:t,duration:r})=>{let n=performance.now();requestAnimationFrame((function a(c){let o=(c-n)/r;o>1&&(o=1);let l=e(o);t(l),o<1&&requestAnimationFrame(a)}))};(function(e){const t=document.querySelector("#timer-hours"),r=document.querySelector("#timer-minutes"),n=document.querySelector("#timer-seconds");let a,c=!0;const o=()=>{const e=(()=>{let e=(new Date("5 march 2022").getTime()-(new Date).getTime())/1e3;return e<0&&(c=!1),{hours:Math.floor(e/3600),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})(),o=e=>1==e.toString().length?"0"+e:e;c?(t.textContent=o(e.hours),r.textContent=o(e.minutes),n.textContent=o(e.seconds)):clearInterval(a)};o(),a=setInterval(o,1e3)})(),function(){const e=document.querySelector("menu");document.addEventListener("click",(t=>{t.target.closest(".menu")||t.target.matches("menu, menu li")?e.classList.add("active-menu"):e.classList.remove("active-menu")}))}(),(()=>{const t=document.querySelector(".popup"),r=document.querySelectorAll(".popup-btn"),n=()=>{let r=document.documentElement.clientWidth;t.style.display?r>768?e({duration:125,timing:e=>e,draw(e){t.style.opacity=Math.abs(1-e),1==e&&(t.style.display="")}}):t.style.display="":(t.style.display="block",r>768&&(t.style.opacity=0,e({duration:125,timing:e=>e,draw(e){t.style.opacity=e}})))};t.addEventListener("click",(e=>{e.target.closest(".popup-content")&&!e.target.classList.contains("popup-close")||n()})),r.forEach((e=>{e.addEventListener("click",n)}))})(),[...document.querySelector("menu").querySelectorAll("ul > li > a"),document.querySelector("main").querySelector("a")].forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const r=e.getAttribute("href").substring(1);document.getElementById(r).scrollIntoView({inline:"nearest",behavior:"smooth"})}))})),(t=>{const r=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),a=document.querySelector(".calc-square"),c=document.querySelector(".calc-count"),o=document.querySelector(".calc-day"),l=document.getElementById("total");r.addEventListener("input",(r=>{r.target!=n&&r.target!=a&&r.target!=c&&r.target!=o||(()=>{const r=+n.options[n.selectedIndex].value,s=a.value;let u=0,i=1,d=1;+c.value>1&&(i+=+c.value/10),o.value&&o.value<5?d=2:o.value&&o.value<10&&(d=1.5),u=n.value&&a.value?t*r*s*i*d:0,0!==u?(t=>{e({duration:750,timing:e=>e,draw(e){l.textContent=Math.floor(t*e)}}),l.textContent=t})(u):l.textContent=0})()}))})(100),(()=>{String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0\-]+|[\s\uFEFF\xA0\-]+$/g,"")};const e=document.getElementById("form1"),t=document.getElementById("form2"),r=document.getElementById("form3"),n=document.querySelectorAll(".calc-item"),a=e=>{const t=e=>{if(e.value)switch(e.getAttribute("name")){case"user_name":e.value=e.value.replace(/[^A-zА-я ]/g,"");break;case"user_email":e.value=e.value.replace(/[^A-z0-9\@\_\.\!\~\*\-\']/g,"");break;case"user_phone":e.value=e.value.replace(/[^\d\)\(\-]/g,"");break;case"user_message":e.value=e.value.replace(/[^А-я \-\.\,\?\!]/g,"")}};e.querySelectorAll("input").forEach((e=>{e.addEventListener("input",(()=>{t(e)})),e.addEventListener("blur",(()=>{t(e),"text"!==e.getAttribute("type")&&"user_message"!==e.getAttribute("name")||!e.value||(e.value=e.value.split(" ").map((e=>e[0].toUpperCase()+e.substring(1).toLowerCase())).join(" ")),e.value=e.value.replace(/\-+/g,"-").replace(/\s+/g," ").trim()}))}))};a(e),a(t),a(r),n.forEach(((e,t)=>{0!==t&&e.addEventListener("input",(()=>{e.value=e.value.replace(/\D/,"")}))}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-tab"),r=document.querySelectorAll(".service-header-tab");e.addEventListener("click",(e=>{const n=e.target.closest(".service-header-tab");n&&r.forEach(((e,r)=>{e===n?(e.classList.add("active"),t[r].classList.remove("d-none")):(e.classList.remove("active"),t[r].classList.add("d-none"))}))}))})(),((e,t,r=".dot",n=".portfolio-dots",a="#arrow-left",c="#arrow-right",o=".portfolio-btn",l,s)=>{const u=document.querySelector(e),i=document.querySelectorAll(t),d=document.querySelector(n);let m,v,g=0,p=!1;if(l=l||t.substring(1)+"-active",s=s||r.substring(1)+"-active",!u||!i)return;const y=(e,t,r)=>{e[t].classList.remove(r)},h=(e,t,r)=>{e[t].classList.add(r)},f=()=>{y(i,g,l),y(m,g,s),g++,g>=i.length&&(g=0),h(i,g,l),h(m,g,s)},E=e=>{v=setInterval(f,e)};u.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(`${r}, ${o}`)&&(y(i,g,l),y(m,g,s),e.target.matches(a)?g--:e.target.matches(c)?g++:e.target.classList.contains(r.substring(1))&&m.forEach(((t,r)=>{t===e.target&&(g=r)})),g>=i.length&&(g=0),g<0&&(g=i.length-1),h(i,g,l),h(m,g,s))})),u.addEventListener("mouseenter",(e=>{e.target.matches(`${r}, ${o}`)&&clearInterval(v)}),!0),u.addEventListener("mouseleave",(e=>{e.target.matches(`${r}, ${o}`)&&E(4e3)}),!0),(()=>{if(d.innerHTML="",0==i.length)return p=!0;i.forEach((()=>{const e=document.createElement("li");e.className="dot",d.append(e)})),m=document.querySelectorAll(r),m[0].classList.add(s)})(),p||E(4e3)})(".portfolio-content",".portfolio-item")})();